{
  "id": "0000_init",
  "prevId": null,
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "device_hardware": {
      "name": "device_hardware",
      "columns": {
        "module_id": {
          "name": "module_id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "chip_model": {
          "name": "chip_model",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "chip_rev": {
          "name": "chip_rev",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "cpu_freq_mhz": {
          "name": "cpu_freq_mhz",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "flash_kb": {
          "name": "flash_kb",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "cores": {
          "name": "cores",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "device_system_status": {
      "name": "device_system_status",
      "columns": {
        "module_id": {
          "name": "module_id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "ip": {
          "name": "ip",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "mac": {
          "name": "mac",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "uptime_start": {
          "name": "uptime_start",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "rssi": {
          "name": "rssi",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "flash_used_kb": {
          "name": "flash_used_kb",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "flash_free_kb": {
          "name": "flash_free_kb",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "flash_system_kb": {
          "name": "flash_system_kb",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "heap_total_kb": {
          "name": "heap_total_kb",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "heap_free_kb": {
          "name": "heap_free_kb",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "heap_min_free_kb": {
          "name": "heap_min_free_kb",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "measurements": {
      "name": "measurements",
      "columns": {
        "time": {
          "name": "time",
          "type": "timestamp",
          "primaryKey": true,
          "notNull": true
        },
        "module_id": {
          "name": "module_id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "sensor_type": {
          "name": "sensor_type",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "measurements_time_module_id_sensor_type_pk": {
          "name": "measurements_time_module_id_sensor_type_pk",
          "columns": ["time", "module_id", "sensor_type"]
        }
      },
      "uniqueConstraints": {}
    },
    "measurements_hourly": {
      "name": "measurements_hourly",
      "columns": {
        "bucket": {
          "name": "bucket",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "module_id": {
          "name": "module_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "sensor_type": {
          "name": "sensor_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "avg_value": {
          "name": "avg_value",
          "type": "double precision",
          "primaryKey": false,
          "notNull": false
        },
        "min_value": {
          "name": "min_value",
          "type": "double precision",
          "primaryKey": false,
          "notNull": false
        },
        "max_value": {
          "name": "max_value",
          "type": "double precision",
          "primaryKey": false,
          "notNull": false
        },
        "count": {
          "name": "count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "sensor_config": {
      "name": "sensor_config",
      "columns": {
        "module_id": {
          "name": "module_id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "sensor_type": {
          "name": "sensor_type",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "interval_seconds": {
          "name": "interval_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "model": {
          "name": "model",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "sensor_config_module_id_sensor_type_pk": {
          "name": "sensor_config_module_id_sensor_type_pk",
          "columns": ["module_id", "sensor_type"]
        }
      },
      "uniqueConstraints": {}
    },
    "sensor_status": {
      "name": "sensor_status",
      "columns": {
        "module_id": {
          "name": "module_id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "sensor_type": {
          "name": "sensor_type",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "value": {
          "name": "value",
          "type": "double precision",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "sensor_status_module_id_sensor_type_pk": {
          "name": "sensor_status_module_id_sensor_type_pk",
          "columns": ["module_id", "sensor_type"]
        }
      },
      "uniqueConstraints": {}
    }
  },
  "enums": {},
  "schemas": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}






